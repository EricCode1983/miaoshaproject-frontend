<html>
<head>
<meta charset="UTF-8">
<link  href="static/assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link  href="static/assets/global/css/components.css" rel="stylesheet" type="text/css"/>
<link  href="static/assets/admin/pages/css/login.css" rel="stylesheet" type="text/css"/>
<script src="static/assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>


</head>

<body class="login">

    <div class="content">
        <h3 class="form-title">Create Item</h3>
        <div class="form-group">
                <label class="control-label">Item Name</label>
            <div>
                <input class="form-control" type="text" placeholder="title" name="title" id="title"/>
            </div>

         </div>
        <div class="form-group">
            <label class="control-label">Item Desc</label>
            <div>
                <input class="form-control" type="text" placeholder="desc" name="desc" id="desc"/>
            </div>

        </div>
        <div class="form-group">
            <label class="control-label">Price</label>
            <div>
                <input class="form-control" type="text" placeholder="price" name="price" id="price"/>
            </div>

        </div>
        <div class="form-group">
            <label class="control-label">Image Url</label>
            <div>
                <input class="form-control" type="text" placeholder="imgUrl" name="imgUrl" id="imgUrl"/>
            </div>

        </div>
        <div class="form-group">
            <label class="control-label">Stock</label>
            <div>
                <input class="form-control" type="text" placeholder="stock" name="stock" id="stock"/>
            </div>

        </div>



        <div class="form-actions">
        <button class="btn blue" id="create" type="submit">Create</button>
        </div>
    </div>

</body>

<script>
    $(document).ready(function() {
    console.log( "ready go !" );

  $('#create').on("click",function(){
  var title=$("#title").val();
  var desc=$("#desc").val();
  var imgUrl=$("#imgUrl").val();
  var price=$("#price").val();
  var stock=$("#stock").val();
  if(title==null || title ==""){

  alert("title cant be empty.");
  return;
  }

  if(desc==null || desc ==""){

  alert("desc cant be empty.");
  return;
  }
   if(imgUrl==null || imgUrl ==""){

  alert("imgUrl cant be empty.");
  return;
  }
   if(price==null || price ==""){

  alert("price cant be empty.");
  return;
  }
   if(stock==null || stock ==""){

  alert("stock cant be empty.");
  return;
  }


           $.ajax({
             type:"POST",
             contentType:"application/x-www-form-urlencoded",
             url:"http://localhost:8090/item/create",
             crossDomain: true,
             data:{"title":title,
                   "desc":desc,
                   "imgUrl":imgUrl,
                   "price":price,
                   "stock":stock},

            xhrFields:{withCredentials:true},
            success:function(data){
               if(data.status=="success"){

                alert("create successfully.")
               }
               else {
                 alert ("create failed. "+data.data.errMsg);
               }
            },
            error:function(data){
            alert ("create failed, "+data.responseText);
            }

    });
    return false;

});
})


</script>


</html>